<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no" />
<meta name="theme-color" content="#030712" />
<title>MedWard Pro ‚Ä¢ Debug Console</title>

<style>
/* ==============================
   DESIGN SYSTEM
============================== */
:root {
  --bg:#030712;
  --panel:#0b1220;
  --card:#111827;
  --border:rgba(255,255,255,.08);
  --text:#f9fafb;
  --muted:#9ca3af;
  --gold:#f59e0b;
  --green:#10b981;
  --red:#ef4444;
  --warn:#fbbf24;
  --radius:12px;
  --radius-sm:8px;
  --shadow:0 10px 40px rgba(0,0,0,.5);
  font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
}

* { box-sizing:border-box; margin:0; padding:0; }
html,body { height:100%; background:var(--bg); color:var(--text); }

/* ==============================
   LAYOUT
============================== */
.app { display:grid; grid-template-rows:64px 1fr; height:100vh; }

header {
  display:flex; justify-content:space-between; align-items:center;
  padding:0 20px; background:linear-gradient(180deg,#0b1220,#030712);
  border-bottom:1px solid var(--border);
}

header h1 { font-size:1.1rem; font-weight:800; }
header span { font-size:.75rem; color:var(--muted); }

.main { display:grid; grid-template-columns:260px 1fr; }

/* ==============================
   SIDEBAR
============================== */
aside {
  background:var(--panel);
  border-right:1px solid var(--border);
  padding:16px;
}

.nav {
  display:flex; flex-direction:column; gap:6px;
}

.nav button {
  background:none; border:none; color:var(--muted);
  text-align:left; padding:12px;
  border-radius:8px; cursor:pointer;
  font-size:.85rem;
}

.nav button.active,
.nav button:hover {
  background:rgba(245,158,11,.12);
  color:var(--gold);
}

/* ==============================
   CONTENT
============================== */
main {
  padding:20px;
  overflow:auto;
}

.panel { display:none; }
.panel.active { display:block; }

.card {
  background:var(--card);
  border:1px solid var(--border);
  border-radius:var(--radius);
  margin-bottom:16px;
  box-shadow:var(--shadow);
}

.card header {
  padding:14px 18px;
  border-bottom:1px solid var(--border);
  background:none;
}

.card section { padding:18px; }

/* ==============================
   STATUS ITEMS
============================== */
.status {
  display:flex; gap:12px;
  padding:12px;
  border-radius:8px;
  margin-bottom:8px;
  background:#0b1220;
}

.status.ok { border-left:4px solid var(--green); }
.status.err { border-left:4px solid var(--red); }
.status.warn { border-left:4px solid var(--warn); }

/* ==============================
   BUTTONS
============================== */
.btn {
  padding:10px 14px;
  border-radius:8px;
  border:none;
  cursor:pointer;
  font-weight:600;
}

.btn.primary {
  background:linear-gradient(135deg,var(--gold),#fb923c);
  color:#000;
}

.btn.secondary {
  background:#0b1220;
  color:var(--text);
  border:1px solid var(--border);
}

/* ==============================
   TOAST
============================== */
.toast {
  position:fixed;
  bottom:20px; left:50%;
  transform:translateX(-50%);
  background:#111827;
  padding:14px 20px;
  border-radius:12px;
  border:1px solid var(--border);
  display:none;
  z-index:9999;
}
.toast.show { display:block; }

/* ==============================
   HIT TEST OVERLAY
============================== */
.hit-overlay {
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:99999;
  color:white;
  font-size:1rem;
  text-align:center;
}
</style>
</head>

<body>
<div class="app">

<header>
  <div>
    <h1>MedWard Debug Console</h1>
    <span>UI + System Diagnostics</span>
  </div>
  <button class="btn primary" onclick="location.href='index.html'">üè† Main App</button>
</header>

<div class="main">

<aside>
  <div class="nav">
    <button class="active" data-panel="overview">üìä Overview</button>
    <button data-panel="ui">üñ±Ô∏è UI Interaction</button>
    <button data-panel="storage">üíæ Storage</button>
    <button data-panel="network">üåê Network</button>
  </div>
</aside>

<main>

<!-- OVERVIEW -->
<div class="panel active" id="overview">
  <div class="card">
    <header>System Status</header>
    <section id="systemStatus"></section>
  </div>
</div>

<!-- UI INTERACTION -->
<div class="panel" id="ui">
  <div class="card">
    <header>UI Interaction Diagnostics</header>
    <section>
      <button class="btn primary" onclick="runUIDiagnostics()">‚ñ∂ Run UI Check</button>
      <div id="uiResults" style="margin-top:16px;"></div>
    </section>
  </div>

  <div class="card">
    <header>üéØ Live Hit-Test</header>
    <section>
      <button class="btn secondary" onclick="enableHitTest()">Enable Hit-Test Mode</button>
      <p style="margin-top:10px;font-size:.8rem;color:var(--muted)">
        Tap where a button does not respond.
      </p>
    </section>
  </div>
</div>

<!-- STORAGE -->
<div class="panel" id="storage">
  <div class="card">
    <header>LocalStorage</header>
    <section id="storageData"></section>
  </div>
</div>

<!-- NETWORK -->
<div class="panel" id="network">
  <div class="card">
    <header>Network Requests</header>
    <section id="networkData"></section>
  </div>
</div>

</main>
</div>
</div>

<div class="toast" id="toast"></div>

<script>
/* ==============================
   UTIL
============================== */
const $ = id => document.getElementById(id);
const toast = msg => {
  const t = $('toast');
  t.textContent = msg;
  t.className = 'toast show';
  setTimeout(()=>t.className='toast',3000);
};

/* ==============================
   NAV
============================== */
document.querySelectorAll('.nav button').forEach(b=>{
  b.onclick=()=>{
    document.querySelectorAll('.nav button').forEach(x=>x.classList.remove('active'));
    document.querySelectorAll('.panel').forEach(p=>p.classList.remove('active'));
    b.classList.add('active');
    $(b.dataset.panel).classList.add('active');
  }
});

/* ==============================
   UI DIAGNOSTICS
============================== */
function runUIDiagnostics() {
  const out = $('uiResults');
  out.innerHTML = '';
  let issues = 0;

  document.querySelectorAll('button').forEach(btn=>{
    const r = btn.getBoundingClientRect();
    const top = document.elementFromPoint(r.left+5,r.top+5);
    if (top !== btn) {
      issues++;
      out.innerHTML += `
        <div class="status err">
          ‚ùå Button blocked by <strong>${top.tagName}.${top.className}</strong>
        </div>`;
    }
  });

  if (!issues) {
    out.innerHTML = `
      <div class="status ok">
        ‚úÖ No UI interaction issues detected
      </div>`;
  }
}

/* ==============================
   HIT TEST
============================== */
function enableHitTest() {
  const overlay = document.createElement('div');
  overlay.className = 'hit-overlay';
  overlay.textContent = 'Tap anywhere to detect blocking element';
  document.body.appendChild(overlay);

  const handler = e => {
    const x = e.touches ? e.touches[0].clientX : e.clientX;
    const y = e.touches ? e.touches[0].clientY : e.clientY;
    const el = document.elementFromPoint(x,y);
    toast(`Blocking element: ${el.tagName}.${el.className}`);
    overlay.remove();
    document.removeEventListener('click',handler,true);
    document.removeEventListener('touchstart',handler,true);
  };

  document.addEventListener('click',handler,true);
  document.addEventListener('touchstart',handler,true);
}

/* ==============================
   INIT
============================== */
$('systemStatus').innerHTML = `
  <div class="status ok">Console loaded successfully</div>
  <div class="status ok">Touch support: ${'ontouchstart' in window}</div>
`;
</script>

</body>
</html>
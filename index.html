<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
<meta name="theme-color" content="#030712">
<meta name="apple-mobile-web-app-capable" content="yes">
<title>Medical Wards Pro | Intelligence</title>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   FULL ORIGINAL PREMIUM CSS
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
:root{
  --bg:#030712; --bg-card:#0a0f1a; --bg-elevated:#111827; --bg-hover:#1f2937;
  --text:#f9fafb; --text-secondary:#9ca3af; --text-muted:#6b7280;
  --gold:#f59e0b; --gold-light:#fbbf24; --teal:#14b8a6; --purple:#8b5cf6;
  --rose:#f43f5e; --emerald:#10b981; --blue:#3b82f6; --orange:#f97316;
  --border:rgba(255,255,255,0.08); --border-light:rgba(255,255,255,0.12);
  --glass:rgba(10,15,26,0.9); --radius:16px; --radius-sm:10px;
  --font:'Outfit',system-ui,sans-serif;
}
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
html,body{height:100%;overflow:hidden;font-family:var(--font);background:var(--bg);color:var(--text)}

/* Landing Background & Animated Orbs */
#landing{height:100%;display:flex;flex-direction:column;position:relative;overflow-y:auto;z-index:1}
.landing-bg{position:absolute;inset:0;overflow:hidden;z-index:0}
.landing-bg::before{
  content:'';position:absolute;top:-50%;left:-50%;width:200%;height:200%;
  background:conic-gradient(from 0deg at 50% 50%, transparent 0deg, rgba(245,158,11,0.03) 60deg, transparent 120deg, rgba(20,184,166,0.03) 180deg);
  animation:slowSpin 60s linear infinite;
}
@keyframes slowSpin{to{transform:rotate(360deg)}}
.floating-orb{position:absolute;border-radius:50%;filter:blur(80px);animation:floatOrb 20s ease-in-out infinite;opacity:0.4}
.floating-orb.orb-1{width:400px;height:400px;background:linear-gradient(135deg,var(--gold),var(--orange));top:-200px;right:-100px}
.floating-orb.orb-2{width:300px;height:300px;background:linear-gradient(135deg,var(--teal),var(--emerald));bottom:-150px;left:-100px}
@keyframes floatOrb{0%,100%{transform:translate(0,0) scale(1)} 50%{transform:translate(20px,-30px) scale(0.95)}}

.grid-overlay{
  position:absolute;inset:0;
  background-image:linear-gradient(rgba(255,255,255,0.02) 1px,transparent 1px),linear-gradient(90deg,rgba(255,255,255,0.02) 1px,transparent 1px);
  background-size:60px 60px;mask-image:radial-gradient(ellipse 70% 60% at center,black,transparent);
}

/* UI Elements */
.brand-icon{width:48px;height:48px;background:linear-gradient(135deg,var(--gold),var(--orange));border-radius:14px;display:grid;place-items:center;box-shadow:0 8px 24px rgba(245,158,11,0.3)}
.btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:12px 20px;border:none;border-radius:var(--radius-sm);font-weight:600;cursor:pointer;transition:0.2s}
.btn-primary{background:linear-gradient(135deg,var(--gold),var(--gold-light));color:#000}
.btn-secondary{background:var(--bg-elevated);border:1px solid var(--border-light);color:var(--text)}
.card{background:var(--bg-card);border:1px solid var(--border);border-radius:var(--radius);padding:18px;margin-bottom:12px}

/* Clinical Styles */
.patient-card{border-left:4px solid var(--teal);transition:0.2s;cursor:pointer}
.patient-card.critical{border-left-color:var(--rose)}
.vitals-grid{display:grid;grid-template-columns:repeat(auto-fit, minmax(120px, 1fr));gap:12px;margin-top:15px}
.vital-box{background:var(--bg);padding:15px;border-radius:12px;text-align:center;border:1px solid var(--border)}
.lab-card{background:var(--bg); padding:12px; border-radius:10px; border:1px solid var(--border)}
.lab-card.alert-critical{border-color:var(--rose); background:rgba(244, 63, 94, 0.05)}

.modal{position:fixed;inset:0;background:rgba(0,0,0,0.85);backdrop-filter:blur(10px);display:none;align-items:center;justify-content:center;z-index:1000}
.modal.active{display:flex}
.modal-content{background:var(--bg-card);border:1px solid var(--border);border-radius:20px;width:90%;max-width:550px;max-height:85vh;overflow-y:auto;padding:25px}
input, select, textarea {width:100%; padding:12px; background:var(--bg); border:1px solid var(--border); border-radius:8px; color:white; margin-bottom:15px}
</style>
</head>
<body>

<div class="page active" id="landing">
  <div class="landing-bg">
    <div class="floating-orb orb-1"></div>
    <div class="floating-orb orb-2"></div>
    <div class="grid-overlay"></div>
  </div>
  <header style="padding:24px 32px; display:flex; justify-content:space-between; align-items:center; z-index:10">
    <div style="display:flex; align-items:center; gap:14px">
        <div class="brand-icon">ğŸ¥</div>
        <span style="font-size:1.4rem; font-weight:800">Medical Wards Pro</span>
    </div>
    <button class="btn btn-secondary" onclick="app.nav('admin')">âš™ï¸ Admin</button>
  </header>
  <main style="flex:1; display:flex; flex-direction:column; align-items:center; padding:40px; z-index:10; text-align:center">
    <h1 style="font-size: clamp(2.5rem, 8vw, 4rem); font-weight:900; line-height:1.1; margin-bottom:16px">
        Clinical <span style="background:linear-gradient(135deg,var(--gold),var(--teal)); -webkit-background-clip:text; -webkit-text-fill-color:transparent;">Intelligence</span>
    </h1>
    <p style="color:var(--text-secondary); margin-bottom:48px; max-width:600px">Next-gen ward management with integrated SBAR handovers and fluid monitoring.</p>
    <div id="unitsGrid" style="display:grid; grid-template-columns:repeat(auto-fit, minmax(260px,1fr)); gap:16px; width:100%; max-width:900px"></div>
  </main>
</div>

<div class="page" id="dashboard">
  <header style="padding:16px; background:var(--glass); backdrop-filter:blur(20px); border-bottom:1px solid var(--border); display:flex; justify-content:space-between; align-items:center">
    <div style="display:flex; align-items:center; gap:12px">
        <button class="btn btn-secondary" onclick="app.nav('landing')">â†</button>
        <h3 id="currentUnitTitle" style="font-weight:700">Unit</h3>
    </div>
    <div style="display:flex; gap:10px">
        <button class="btn btn-secondary" onclick="app.openModal('modal-handover-gen')">ğŸ“‹ Handover</button>
        <button class="btn btn-primary" onclick="app.openPtModal()">+ Patient</button>
    </div>
  </header>
  <div style="padding:20px; overflow-y:auto" id="patientsList"></div>
</div>

<div class="modal" id="modal-handover">
    <div class="modal-content">
        <h3 style="margin-bottom:15px">SBAR Handover (Master Shifu)</h3>
        <textarea id="handover-text" style="height:300px; font-family:'JetBrains Mono', monospace; font-size:0.85rem; background:var(--bg)"></textarea>
        <button class="btn btn-primary" style="width:100%" onclick="app.copyHandover()">ğŸ“‹ Copy Handover</button>
        <button class="btn btn-secondary" style="width:100%; margin-top:10px" onclick="app.closeModal()">Close</button>
    </div>
</div>

<script>
// Logic Integration (Master Shifu Edition)
const LAB_REF = { 'K+': {min: 3.5, max: 5.1}, 'Na+': {min: 135, max: 145}, 'Hb': {min: 12.0, max: 17.0}, 'Cr': {min: 0.6, max: 1.2} };

const app = {
    state: {
        units: [{id: 1, name: 'Cardiology Ward', code: '1234', icon: 'â¤ï¸'}],
        patients: [],
        currentUnit: null,
        currentPt: null
    },

    init() { this.load(); this.renderUnits(); },

    nav(page) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.getElementById(page).classList.add('active');
        if(page === 'dashboard') this.renderPts();
    },

    selectUnit(id) {
        const u = this.state.units.find(x => x.id === id);
        if(prompt(`Enter Access Code:`) === u.code) {
            this.state.currentUnit = u;
            document.getElementById('currentUnitTitle').innerText = u.name;
            this.nav('dashboard');
        }
    },

    renderUnits() {
        document.getElementById('unitsGrid').innerHTML = this.state.units.map(u => `
            <div class="card" style="text-align:center; cursor:pointer; padding:32px" onclick="app.selectUnit(${u.id})">
                <div style="font-size:3rem; margin-bottom:12px">${u.icon}</div>
                <h3 style="color:var(--gold); font-weight:700">${u.name}</h3>
            </div>
        `).join('');
    },

    renderPts() {
        const list = document.getElementById('patientsList');
        const pts = this.state.patients.filter(p => p.unitId === this.state.currentUnit.id);
        list.innerHTML = pts.map(p => `
            <div class="card patient-card ${p.status === 'critical' ? 'critical' : ''}" onclick="app.openProfile(${p.id})">
                <div style="display:flex; justify-content:space-between">
                    <strong>${p.name}</strong><small style="color:var(--text-muted)">Room ${p.room}</small>
                </div>
            </div>
        `).join('');
    },

    copyHandover() {
        const textElement = document.getElementById("handover-text");
        textElement.select();
        document.execCommand("copy");
        alert("SBAR Copied, Master Shifu!");
    },

    save() { localStorage.setItem('med_wards_pro_master', JSON.stringify(this.state)); },
    load() { const data = localStorage.getItem('med_wards_pro_master'); if(data) this.state = JSON.parse(data); },
    openModal(id) { document.getElementById(id).classList.add('active'); },
    closeModal() { document.querySelectorAll('.modal').forEach(m => m.classList.remove('active')); }
};

app.init();
</script>
</body>
</html>
